import{b as S,d as w,f as p}from"./chunk-2YHTWJFD.js";p();p();p();var t=S(w());var j="popstate",x="pushState",d="replaceState",y=[j,x,d],v=({base:e=""}={})=>{let[n,o]=(0,t.useState)(()=>({path:E(e),search:location.search})),r=(0,t.useRef)(n.path+n.search);(0,t.useEffect)(()=>{let s=()=>{let c=E(e),i=location.search,l=c+i;r.current!==l&&(r.current=l,o({path:c,search:i}))};return y.map(c=>addEventListener(c,s)),s(),()=>y.map(c=>removeEventListener(c,s))},[e]);let a=(0,t.useCallback)((s,{replace:c=!1}={})=>history[c?d:x](null,"",s[0]==="~"?s.slice(1):e+s),[e]);return[n.path,a]};if(typeof history!="undefined")for(let e of[x,d]){let n=history[e];history[e]=function(){let o=n.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),o}}var E=(e,n=location.pathname)=>n.toLowerCase().indexOf(e.toLowerCase())?"~"+n:n.slice(e.length)||"/";p();function g(e=b){let n={},o=r=>n[r]||(n[r]=e(r));return(r,a)=>{let{regexp:s,keys:c}=o(r||""),i=s.exec(a);if(!i)return[!1,null];let l=c.reduce((f,u,h)=>(f[u.name]=i[h+1],f),{});return[!0,l]}}var k=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=(e,n,o)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return n&&o&&(r="(?:\\/"+r+")"),r+(n?"?":"")},b=e=>{let n=/:([A-Za-z0-9_]+)([?+*]?)/g,o=null,r=0,a=[],s="";for(;(o=n.exec(e))!==null;){let[c,i,l]=o,f=l==="+"||l==="*",u=l==="?"||l==="*",h=u&&e[o.index-1]==="/"?1:0,L=e.substring(r,o.index-h);a.push({name:i}),r=n.lastIndex,s+=k(L)+P(f,u,h)}return s+=k(e.substring(r)),{keys:a,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}};var A=(0,t.createContext)({}),F=({hook:e=v,base:n="",matcher:o=g()}={})=>({hook:e,base:n,matcher:o}),R=()=>{let e=(0,t.useContext)(A);return e.v||(e.v=F())},C=()=>{let e=R();return e.hook(e)},K=e=>{let[n]=C();return R().matcher(e,n)},M=e=>{let n=(0,t.useRef)(),[,o]=C();return n.current=()=>o(e.to||e.href,e),n};var N=({path:e,match:n,component:o,children:r})=>{let a=K(e),[s,c]=n||a;return s?o?(0,t.createElement)(o,{params:c}):typeof r=="function"?r(c):r:null},O=e=>{let n=M(e),{base:o}=R(),{to:r,href:a=r,children:s,onClick:c}=e,i=(0,t.useCallback)(u=>{u.ctrlKey||u.metaKey||u.altKey||u.shiftKey||u.button!==0||(u.preventDefault(),n.current(),c&&c(u))},[c]),l={href:a[0]==="~"?a.slice(1):o+a,onClick:i,to:null},f=(0,t.isValidElement)(s)?s:(0,t.createElement)("a",e);return(0,t.cloneElement)(f,l)};export{C as a,N as b,O as c};
